<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="og:title" content="Et si on passait de master √† main dans nos repos Git ?" />
    <meta name="og:url" content="https://blog.otso.fr/2020-06-18-git-remplacer-master-main.html" />
    <meta name="og:site_name" content="Blob Trotter" />

    
    <meta name="description" content="Ca prend 2 minutes et 4 lignes de code, foncez !" />
    <meta name="og:description" content="Ca prend 2 minutes et 4 lignes de code, foncez !" />
     
    <meta name="robots" content="index, follow" />
     
    <meta name="og:type" content="article" />
     
    <meta name="og:image" content="https://blog.otso.fr/images/2020-06-18-git-remplacer-master-main/changer-branche-principale-github.png" />
     
    <meta name="twitter:card" content="summary" />
     
    <meta name="twitter:site" content="@adriantombu" />
     
    <meta name="twitter:creator" content="@adriantombu" />
    

    <title>Et si on passait de master √† main dans nos repos Git ? - Blob Trotter</title>

    <link rel="icon" href="./favicon.png" />
    <link href="./style.css" rel="stylesheet" type="text/css" />
    <link href="./rss.xml" type="application/rss+xml" />
    <link rel="canonical" href="https://blog.otso.fr/2020-06-18-git-remplacer-master-main.html" />
  </head>

  <body>
    <header>
      <nav>
        <a href="https://otso.fr">Accueil</a> &bull;
        <a href="https://otso.fr/index-en.html">In English</a> &bull; Blog
        &bull;
        <a href="https://otso.fr/conditions-generales-de-vente.html">CGV</a>
        &bull;
        <a href="https://otso.fr/mentions-legales.html">Mentions l√©gales</a>
      </nav>
    </header>

    <article>
      <h1>Et si on passait de master √† main dans nos repos Git ?</h1>

<blockquote>
<p>‚ö†Ô∏è un article plus engag√© que d&rsquo;habitude, passez votre chemin si ce d√©bat ne vous int√©resse pas</p>
</blockquote>

<p>En informatique, le d√©bat sur les <strong>termes √† connotation raciste</strong> a lieu depuis plusieurs ann√©es, bien avant la r√©surgence du <strong>mouvement BlackLiveMatters</strong> de ces derni√®res semaines et j&rsquo;avoue ne jamais y √™tre vraiment attard√©. Pour √™tre honn√™te, quand on a recommenc√© √† en parler il y a quelques jours, j&rsquo;ai lev√© les yeux aux ciel en me disant que √ßa devenait vraiment n&rsquo;importe quoi.</p>

<p>Et puis j&rsquo;ai vu les d√©bats enflamm√©s sur les r√©seaux sociaux&hellip; sur les d√©p√¥ts de diff√©rents projets open-source&hellip; et c&rsquo;est l√† que j&rsquo;ai tilt√©. Tous ces trolls, tous ces gens qui hurlent √† la fin du monde tel qu&rsquo;on le connait, tous <strong>ces r√©fractaires au changement</strong>&hellip; tous ont un point commun : ils parlent de ce qui ne les concerne pas. Et pour cause, l&rsquo;√©crasante majorit√© de ces gens sont des mecs qui ne sont pas issus de minorit√©s.</p>

<p>Et si, pour une fois, on arr√™tait de dire non ? Et qu&rsquo;on √©coutait les gens qui sont vraiment concern√©s ? Et si on d√©gagait ces notions de <strong>ma√Ætre et d&rsquo;esclave</strong>, de liste noire et liste blanche ?</p>

<blockquote>
<p>Oui mais le blanc c&rsquo;est symbole de puret√©, c&rsquo;est positif, on a toujours utilis√© √ßa, &hellip;</p>
</blockquote>

<p>Tu savais qu&rsquo;en Inde le blanc c&rsquo;est la couleur qu&rsquo;on porte <strong>pour le deuil</strong> ? Tu crois que parce qu&rsquo;en Occident le blanc c&rsquo;est symbole de puret√© c&rsquo;est le cas partout ailleurs dans le monde ? Des termes comme <code>blocklist</code> ou <code>allowlist</code> sont tellement <strong>plus explicites</strong>, pour tout le monde, partout, pourquoi ne pas simplement commencer √† les utiliser d√®s maintenant ? C&rsquo;est juste du bon sens au final.</p>

<blockquote>
<p>Ok, t&rsquo;as pas tout √† fait tort&hellip; On fait quoi maintenant ?</p>
</blockquote>

<p>D&rsquo;abord on commence par faire un petit <strong>find &amp; replace</strong> dans son code pour modifier ce genre de terme pour les remplacer par des mots plus explicites. C&rsquo;est pas trop difficile, on fait √ßa tous les jours pour renommer des noms de variables pourris qu&rsquo;on a laiss√© tra√Æner un peu trop longtemps. Et ensuite, il est temps de commit tout √ßa, mais avant&hellip; on va <strong>d√©gager cette vilaine branche</strong> <code>master</code> une bonne fois pour toutes et la remplacer par <code>main</code> (qui semble obtenir la majorit√© des voix).</p>

<p>Voici comment proc√©der en 4 lignes de code :</p>

<pre><code class="language-git"># on switch sur la branche master si on n'est pas encore dessus
git checkout master

# on renomme la branche locale
git branch -m main

# on push la nouvelle branche locale
git push origin -u main

# on supprime la branche distante master
git push origin --delete master
</code></pre>

<p>‚õî Si comme beaucoup vous utilisez Github (mais √ßa s&rsquo;applique s√ªrement √† d&rsquo;autres comme Gitlab) vous aurez une erreur sur la derni√®re commande. Pas de stress, <strong>√ßa se r√©pare en quelques clics</strong> : dans votre repo sur Github, allez dans Settings &gt; Branches et dans <code>Default branch</code> remplacez <code>master</code> par <code>main</code> avant de valider.</p>

<p><img src="/images/2020-06-18-git-remplacer-master-main/changer-branche-principale-github.png" alt="Changer la branche principale sur Github" /></p>

<p>Vous pouvez relancer la commande <code>git push origin --delete master</code> et c&rsquo;est fini, il ne reste plus qu&rsquo;√† <strong>modifier vos scripts de d√©ploiement</strong> pour vous baser sur votre branche <code>main</code>.</p>

<p>Vous avez vu, <strong>c&rsquo;est pas si horrible que √ßa</strong> finalement ! Alors oui, vous me direz qu&rsquo;on ne sauvera pas les gens des discriminations en changeant des mots dans du code. Mais c&rsquo;est pas en r√©agissant comme des cons qu&rsquo;on avancera non plus.</p>

<p>Peace ‚úäüèø</p>

    </article>

    <footer>
      <nav>
         
        <p>
          <a href="2020-06-06-generer-un-flux-rss-en-go.html"
            >G√©n√©rer un flux RSS en Go &gt;&gt;</a
          >
        </p>
        
      </nav>
    </footer>
  </body>
</html>
